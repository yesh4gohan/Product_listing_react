[{"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\index.js":"1","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\App.js":"2","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\reportWebVitals.js":"3","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\ProductsList\\index.jsx":"4","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\SearchBar\\index.jsx":"5","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\ScrollTop\\index.jsx":"6","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\Network\\fetchHelper.js":"7","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\ProductsList\\styles.jsx":"8","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\SearchBar\\styles.jsx":"9","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\ScrollTop\\styles.jsx":"10","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\productTile\\index.jsx":"11","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\Network\\products.js":"12","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\utils\\deviceInfo.js":"13","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\productTile\\styles.jsx":"14","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\Header\\index.jsx":"15","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\Header\\styles.jsx":"16"},{"size":500,"mtime":1610207938000,"results":"17","hashOfConfig":"18"},{"size":816,"mtime":1610292917461,"results":"19","hashOfConfig":"18"},{"size":362,"mtime":1610207938000,"results":"20","hashOfConfig":"18"},{"size":3788,"mtime":1610286120000,"results":"21","hashOfConfig":"18"},{"size":1115,"mtime":1610292238666,"results":"22","hashOfConfig":"18"},{"size":379,"mtime":1610288632000,"results":"23","hashOfConfig":"18"},{"size":1448,"mtime":1610292286306,"results":"24","hashOfConfig":"18"},{"size":434,"mtime":1610288850000,"results":"25","hashOfConfig":"18"},{"size":1300,"mtime":1610285802000,"results":"26","hashOfConfig":"18"},{"size":787,"mtime":1610288402000,"results":"27","hashOfConfig":"18"},{"size":972,"mtime":1610272946000,"results":"28","hashOfConfig":"18"},{"size":76209,"mtime":1610273320000,"results":"29","hashOfConfig":"18"},{"size":539,"mtime":1610217392000,"results":"30","hashOfConfig":"18"},{"size":1379,"mtime":1610286692000,"results":"31","hashOfConfig":"18"},{"size":241,"mtime":1610292931655,"results":"32","hashOfConfig":"18"},{"size":321,"mtime":1610293020862,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1o2scye",{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"43"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\index.js",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\App.js",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\reportWebVitals.js",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\ProductsList\\index.jsx",["69","70","71"],"import ProductTile from '../productTile';\nimport React from 'react';\nimport {ProductsContainer} from './styles'\nimport {getPagintatedProducts} from '../../Network/fetchHelper'\n//import {throttle} from '../../utils/deviceInfo'\n// const pixel_offset = 200;\n// function useScroll(page,setPage,products,setProductsData) {\n//     React.useEffect(() => {\n//         let handleScroll = throttle(async () => {\n//             // console.log((window.innerHeight + window.scrollY),(document.body.offsetHeight-100))\n//             if((window.innerHeight + window.scrollY) >= (document.body.offsetHeight-pixel_offset)){\n//                 setPage(prevPage=>(prevPage+1));\n//                 const existing_products = [...products];\n//                 const results = await getPagintatedProducts(page);\n//                 existing_products.push(...results);\n//                 setProductsData(existing_products);\n//             }\n//         }, 100)\n//         window.addEventListener('scroll', handleScroll)\n//         return () => {\n//             window.removeEventListener('scroll', handleScroll)\n//         }\n//     }, [page,setPage,products,setProductsData])\n// }\nconst ProductList = (props) => {\n    const {searchResults,searchSuccess} = props\n    const observer = React.useRef()\n    const [total_pages,setTotalPages] = React.useState(0);\n    const [loading,setLoading] = React.useState(false);\n    const [page,setPage] = React.useState(1);\n    const [products,setProductsData] = React.useState();\n    const lastProduct = React.useCallback(node => {\n        if(loading) return;\n        if (observer.current) observer.current.disconnect()\n        observer.current = new IntersectionObserver(async entries => {\n          if (entries[0].isIntersecting && page <= total_pages) {\n            setPage(prevPageNumber => prevPageNumber + 1)\n          }\n        })\n        if (node) observer.current.observe(node)\n      }, [loading,total_pages])\n\n    // React.useEffect(() => {\n    //     if(Array.isArray(searchResults) && searchResults.length){\n    //         setProductsData(searchResults)\n    //     }\n    //     return () => {\n    //     }\n    // }, [searchResults])\n\n    React.useEffect(() => {\n        fetchData(page)\n        return () => {\n        }\n    }, [page])\n\n    const fetchData = async (page = 1)=>{\n        setLoading(true);\n        const existing_products = Array.isArray(products) && [...products];\n        const {total_pages,results} = await getPagintatedProducts(page);\n        setTotalPages(total_pages);\n        if(Array.isArray(existing_products) && existing_products.length){\n            setProductsData([...existing_products,...results]);\n        }\n        else {\n            setProductsData(results);\n        }\n        setLoading(false);\n    }\n    React.useEffect(() => {\n        fetchData(1);\n      }, []);\n\n    const handleProductsShow = () => {\n        let data = [];\n        if(Array.isArray(searchResults) && searchResults.length){\n            data = searchResults;\n        }\n        else {\n            data = products;\n        }\n        return Array.isArray(data) &&\n        data.length > 0 &&\n        data.map((product,ind)=>{\n            const {sku} = product\n            if(ind === products.length-1){\n                return <ProductTile key={`${ind}_${sku}`} ref = {lastProduct} id={`${ind}_${sku}`} {...product}/>\n            }\n            return <ProductTile key={`${ind}_${sku}`} {...product}/>\n        })\n    }\n    //useScroll(page,setPage,products,setProductsData);\n    return (\n        <>\n        {!searchSuccess?<div>No results found</div>:''}\n        <ProductsContainer>\n            {\n                handleProductsShow()\n            }\n        </ProductsContainer>\n        <div>{loading && 'loading.....'}</div>\n        </>\n    )\n}\n\nexport default ProductList;",["72","73"],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\SearchBar\\index.jsx",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\ScrollTop\\index.jsx",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\Network\\fetchHelper.js",["74"],"import {indexProducts} from './products';\nconst results_per_page = 10;\nconst products_data = indexProducts();\nconst products_count = products_data.length;\nconst total_pages = Math.floor(products_count/results_per_page);\nconst response_template = {\n    total_pages,\n    results:[],\n    status:''\n}\nexport const getPagintatedProducts = async page => {\n    await apiSimulator();\n    response_template.results = products_data.filter(product=>(\n         page <= total_pages && product.index > ((page-1)*results_per_page) && product.index <= (((page-1)*results_per_page)+results_per_page)\n    ))\n    response_template.status = 'success';\n    return response_template;\n}\n\nexport const fetchSearchResult = async query => {\n    await apiSimulator();\n    response_template.results = getSearchResults(query);\n    if(Array.isArray(response_template.results) && response_template.results.length){\n        response_template.status = 'success'\n    }\n    else {\n        response_template.status = 'failed'\n    }\n    return response_template;\n}\n\nconst getSearchResults = query => {\n    const trimmedQuery = query.trim().toLowerCase();\n    return products_data.filter(product=>{\n        const {title,subTitle} = product;\n        return title.trim().toLowerCase().includes(trimmedQuery)\n    })\n}\nconst apiSimulator = delay => {\n    delay = delay || 1000;\n    return new Promise((resolve)=>{\n        setTimeout(() => {\n            resolve()\n        }, delay);\n    })\n}","C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\ProductsList\\styles.jsx",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\SearchBar\\styles.jsx",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\ScrollTop\\styles.jsx",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\productTile\\index.jsx",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\Network\\products.js",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\utils\\deviceInfo.js",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\productTile\\styles.jsx",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\Header\\index.jsx",[],"C:\\Users\\ADMIN\\Desktop\\nykaa_ssignment\\product_listing\\src\\components\\Header\\styles.jsx",["75"],{"ruleId":"76","severity":1,"message":"77","line":41,"column":10,"nodeType":"78","endLine":41,"endColumn":31,"suggestions":"79"},{"ruleId":"76","severity":1,"message":"80","line":55,"column":8,"nodeType":"78","endLine":55,"endColumn":14,"suggestions":"81"},{"ruleId":"76","severity":1,"message":"80","line":72,"column":10,"nodeType":"78","endLine":72,"endColumn":12,"suggestions":"82"},{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","severity":1,"message":"88","line":35,"column":22,"nodeType":"89","messageId":"90","endLine":35,"endColumn":30},{"ruleId":"87","severity":1,"message":"91","line":2,"column":9,"nodeType":"89","messageId":"90","endLine":2,"endColumn":15},"react-hooks/exhaustive-deps","React Hook React.useCallback has a missing dependency: 'page'. Either include it or remove the dependency array.","ArrayExpression",["92"],"React Hook React.useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.",["93"],["94"],"no-native-reassign",["95"],"no-negated-in-lhs",["96"],"no-unused-vars","'subTitle' is assigned a value but never used.","Identifier","unusedVar","'device' is defined but never used.",{"desc":"97","fix":"98"},{"desc":"99","fix":"100"},{"desc":"101","fix":"102"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [loading, page, total_pages]",{"range":"103","text":"104"},"Update the dependencies array to be: [fetchData, page]",{"range":"105","text":"106"},"Update the dependencies array to be: [fetchData]",{"range":"107","text":"108"},[1906,1927],"[loading, page, total_pages]",[2248,2254],"[fetchData, page]",[2813,2815],"[fetchData]"]